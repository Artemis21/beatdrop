.card_stack
    display: flex
    flex-direction: column
    gap: 1rem
    padding: 4px  // don't crop focus outline

.card
    border: 0
    text-decoration: none
    font: inherit
    text-align: left
    border-radius: 1rem
    display: flex
    align-items: center
    justify-content: start
    background: $card-bg
    color: $card-fg
    margin: 0 2.5%
    position: relative
    transition: background 50ms linear
    padding: 0

    // This becomes an inset border when .card--active is applied. It is defined
    // here to allow for transitions. We use a pseudo element to apply an inset
    // border rather than a standard outer border -- this reduces content shift
    // and keeps card sizes consistent.
    &:after
        position: absolute
        content: ""
        top: 0
        left: 0
        bottom: 0
        right: 0
        border: 0px solid $input-fg
        border-radius: 1rem
        transition: border-width 50ms linear
        pointer-events: none

.card--centred
    justify-content: center

.card--extended
    padding: 1rem

.card--button
    cursor: pointer
    transition: transform 100ms linear

    &:hover
        transform: scale(1.05)

    &:focus-visible
        @include focus

.card--active
    background: $input-bg

    &:after
        border-width: 4px

.card--good
    background: $good-bg
    color: $good-fg

.card--bad
    background: $bad-bg
    color: $bad-fg

.card__progress
    position: absolute
    top: 0
    bottom: 0
    left: 0
    border-radius: 1rem
    pointer-events: none
    background: $bad-bg

.card__icon
    width: 5rem
    display: flex
    align-items: center
    justify-content: center
    font-size: 2.5rem
    padding-left: 1rem

    svg
        padding: 1rem

.card__image
    position: relative
    width: 6rem
    min-height: 100%
    overflow: clip
    border-top-left-radius: 1rem
    border-bottom-left-radius: 1rem
    flex-shrink: 0
    align-self: stretch

    img
        position: absolute
        top: 0
        left: 0
        object-fit: cover
        height: 100%
        min-width: 100%

.card__body
    flex-grow: 999
    padding: 1rem
    display: flex
    flex-direction: column
    align-items: stretch
    gap: 0.5rem

    .card--centred &
        align-items: center

.card__title
    font-size: 1.2rem
    margin: 0
    font-weight: normal

    .card--button &
        text-decoration: underline

    .card--extended &
        margin-bottom: 0.5rem
        text-align: center

.card__details
    margin: 0
    line-height: 1.5
